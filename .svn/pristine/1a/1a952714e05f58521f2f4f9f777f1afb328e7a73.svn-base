<%
layout("/admin/layout.html",{
}){
%>
<div class="row">
    <div class="col-lg-12">
        <div class="box">
            <div class="box-header">
                <h3 class="box-title">资讯类别:</h3>
                <select name="fType"  id="fType">
                    <option value="0">请选择</option>
                    <option value="1">资讯</option>
                    <option value="2">图库</option>
                </select>
                <h3 class="box-title">排行方式:</h3>
                <button id="search-btn-down" type="button" class="btn btn-default">下载数</button>
                <button id="search-btn-read" type="button" class="btn btn-default">阅读数</button>
                <button id="search-btn-comment" type="button" class="btn btn-default">评论数</button>
                <button id="search-btn-good" type="button" class="btn btn-default">点赞数</button>
                <button id="search-btn-collect" type="button" class="btn btn-default">收藏数</button>
            </div>
            <div class="box-body">
                <table id="dt" data-options="'url':'/admin/article/statementIndex', 'serverSide':true"
                       class="dataTables table table-striped table-bordered"
                       cellspacing="0" width="100%">
                    <thead>
                    <tr>
                        <th data-options="'data':'id'">编号</th>
                        <th data-options="'data':'title'">标题</th>
                        <th data-options="'data':'user.nickname'">发布者</th>
                        <th data-options="'data':'downloadCount'">下载数</th>
                        <th data-options="'data':'viewCount'">阅读数</th>
                        <th data-options="'data':'commentCount'">评论数</th>
                        <th data-options="'data':'likeCount'">点赞数</th>
                        <th data-options="'data':'favoriteCount'">收藏数</th>
                    </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
</div>
<script>
    $('#search-btn-down').click(function () {
        var functionType = $("#fType option:selected").val();
        var type = 1;
        jewelry.reloadDatatable('dt', {functionType: functionType, type: type});
    })
    $('#search-btn-read').click(function () {
        var functionType = $("#fType option:selected").val();
        var type = 2;
        jewelry.reloadDatatable('dt', {functionType: functionType, type: type});
    })
    $('#search-btn-comment').click(function () {
        var functionType = $("#fType option:selected").val();
        var type = 3;
        jewelry.reloadDatatable('dt', {functionType: functionType, type: type});
    })
    $('#search-btn-good').click(function () {
        var functionType = $("#fType option:selected").val();
        var type = 4;
        jewelry.reloadDatatable('dt', {functionType: functionType, type: type});
    })
    $('#search-btn-collect').click(function () {
        var functionType = $("#fType option:selected").val();
        var type = 5;
        jewelry.reloadDatatable('dt', {functionType: functionType, type: type});
    })
</script>
<%}%>
